(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,r){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1P7Nb","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1C-z-"}},14:function(e,t,r){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},15:function(e,t,r){e.exports={Button:"Button_Button__3R1xi",buttonConteiner:"Button_buttonConteiner__wvJrc"}},26:function(e,t,r){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},28:function(e,t,r){e.exports={spinnerConteiner:"Loader_spinnerConteiner__1wxmh"}},33:function(e,t,r){},6:function(e,t,r){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}},75:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(8),c=r.n(o),s=(r(33),r(12)),i=r.n(s),l=r(16),u=r(25),m=r(5),b=r(4),h=(r(35),r(13)),j=r.n(h),g=r(1),p=function(e){var t=e.id,r=e.url,a=e.openModal,n=e.largeImageURL;return Object(g.jsx)("li",{className:j.a.ImageGalleryItem,children:Object(g.jsx)("img",{src:r,alt:"",className:j.a.ImageGalleryItem_image,onClick:function(){return a(n)}})},t)},d=r(26),f=r.n(d),O=function(e){var t=e.images,r=e.openModal;return Object(g.jsx)("ul",{className:f.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.tags,o=e.largeImageURL;return Object(g.jsx)(p,{url:a,alt:n,largeImageURL:o,id:t,openModal:r})}))})},_=r(6),v=r.n(_);function x(e){var t=e.changeQuery,r=Object(a.useState)(""),n=Object(m.a)(r,2),o=n[0],c=n[1];return Object(g.jsx)("header",{className:v.a.Searchbar,children:Object(g.jsxs)("form",{className:v.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):b.b.warning("You have not entered anything in the search bar, please enter a search term",{position:"top-center",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(g.jsx)("button",{type:"submit",className:v.a.SearchFormButton,children:Object(g.jsx)("span",{className:v.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:v.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,value:o,placeholder:"Search images and photos",onChange:function(e){return c(e.currentTarget.value.toLowerCase())}})]})})}var y=r(14),S=r.n(y);function I(e){var t=e.onClose,r=e.children;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(g.jsx)("div",{className:S.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(g.jsx)("div",{className:S.a.Modal,children:r})})}var w=r(15),C=r.n(w),F=function(e){var t=e.onClick;return Object(g.jsx)("div",{className:C.a.buttonConteiner,children:Object(g.jsx)("button",{type:"button",className:C.a.Button,onClick:t,children:"Load more"})})},G=r(27),k=r.n(G),B=r(28),N=r.n(B),L=function(){return Object(g.jsx)("div",{className:N.a.spinnerConteiner,children:Object(g.jsx)(k.a,{type:"Grid",color:"#00BFFF",height:100,width:100})})},M=r(10),R=r.n(M),E=r(2),T=r.n(E);R.a.defaults.baseURL="https://pixabay.com/api/",R.a.defaults.params={key:"22063861-3c05c462599ae9ace4c5aa6eb",image_type:"photo",orientation:"horizontal",per_page:12};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return R.a.get("",{params:{q:e,page:t}}).catch((function(e){var t=e.error;return t.response?(b.b.error(t.response.data),b.b.error(t.response.status),b.b.error(t.response.headers)):t.request?b.b.error(t.request):b.b.error("Error",t.message),b.b.error("Error",t.config),console.log(t.config)}))};U.propTypes={searchQuery:T.a.string.isRequired,page:T.a.number.isRequired};var q=U;function J(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),r=t[0],n=t[1],o=Object(a.useState)(1),c=Object(m.a)(o,2),s=c[0],h=c[1],j=Object(a.useState)([]),p=Object(m.a)(j,2),d=p[0],f=p[1],_=Object(a.useState)(!1),v=Object(m.a)(_,2),y=v[0],S=v[1],w=Object(a.useState)(!1),C=Object(m.a)(w,2),G=C[0],k=C[1],B=Object(a.useState)(""),N=Object(m.a)(B,2),M=N[0],R=N[1],E=Object(a.useState)(null),T=Object(m.a)(E,2),U=T[0],J=T[1],D=Object(a.useRef)(!0),H=d.length>0&&!y;Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),n(r),e.next=5,q(r,s);case 5:t=e.sent,f((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t.data.hits))})),S(!1),d.length>0&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),J(e.t0.response.status),S(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}D.current?D.current=!1:(S(!0),function(){e.apply(this,arguments)}())}),[r,s]);var Q=function(){k((function(e){return!e}))};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x,{changeQuery:function(e){r!==e&&(n(e),h(1),f([]),J(null))}}),Object(g.jsx)(b.a,{position:"top-right",autoClose:4e3}),U&&Object(g.jsxs)("h1",{style:{color:"#ff0000",textAlign:"center"},children:["Ooops! Something going wrong...",U]}),Object(g.jsx)(O,{images:d,openModal:function(e){R(e),Q(),console.log(e)}}),y&&Object(g.jsx)(L,{}),H&&Object(g.jsx)(F,{onClick:function(){h((function(e){return e+1}))}}),G&&Object(g.jsx)(I,{onClose:Q,children:Object(g.jsx)("img",{src:M,alt:""})})]})}c.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.a4d0c941.chunk.js.map