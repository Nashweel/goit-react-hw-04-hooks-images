{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","services/pixabay-api.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","id","url","openModal","largeImageURL","className","s","src","alt","ImageGalleryItem_image","onClick","ImageGallery","images","map","webformatURL","tags","Searchbar","changeQuery","useState","query","setQuery","SearchForm","onSubmit","event","preventDefault","trim","toast","warning","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","value","placeholder","onChange","currentTarget","toLowerCase","Modal","onClose","children","useEffect","handleKeyPress","e","code","window","addEventListener","removeEventListener","Overlay","target","Button","buttonConteiner","Spinner","spinnerConteiner","color","height","width","axios","defaults","baseURL","params","key","image_type","orientation","per_page","fetchPixabayImage","page","get","q","catch","error","response","data","status","headers","request","message","config","console","log","propTypes","searchQuery","PropTypes","string","isRequired","number","App","setSearchQuery","currentPage","setCurrentPage","setImages","isLoading","setIsLoading","showModal","setShowModal","modalImg","setModalImg","setError","firstRenderRef","useRef","shouldRenderLoadMoreButton","length","a","img","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","current","fetchImage","toggleModal","autoClose","style","textAlign","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a4d0c941.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"buttonConteiner\":\"Button_buttonConteiner__wvJrc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerConteiner\":\"Loader_spinnerConteiner__1wxmh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ id, url, openModal, largeImageURL }) => {\n  return (\n    <li className={s.ImageGalleryItem} key={id}>\n      <img\n        src={url}\n        alt=\"\"\n        className={s.ImageGalleryItem_image}\n        onClick={() => openModal(largeImageURL)}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => {\n        return (\n          <ImageGalleryItem\n            url={webformatURL}\n            alt={tags}\n            largeImageURL={largeImageURL}\n            id={id}\n            openModal={openModal}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n\nexport default ImageGallery;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ changeQuery }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleNameChange = (event) =>\n    setQuery(event.currentTarget.value.toLowerCase());\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (query.trim() === \"\") {\n      toast.warning(\n        \"You have not entered anything in the search bar, please enter a search term\",\n        {\n          position: \"top-center\",\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        }\n      );\n      return;\n    }\n\n    changeQuery(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          value={query}\n          placeholder=\"Search images and photos\"\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  changeQuery: PropTypes.func.isRequired,\n};\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.code === \"Escape\") {\n        onClose();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyPress);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.buttonConteiner}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst Spinner = () => {\n  return (\n    <div className={s.spinnerConteiner}>\n      <Loader type=\"Grid\" color=\"#00BFFF\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import axios from \"axios\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\naxios.defaults.params = {\n  key: \"22063861-3c05c462599ae9ace4c5aa6eb\",\n  image_type: \"photo\",\n  orientation: \"horizontal\",\n  per_page: 12,\n};\nconst fetchPixabayImage = (query = \"\", page = 1) => {\n  return axios\n    .get(\"\", {\n      params: {\n        q: query,\n        page,\n      },\n    })\n    .catch(function ({ error }) {\n      if (error.response) {\n        toast.error(error.response.data);\n        toast.error(error.response.status);\n        toast.error(error.response.headers);\n      } else if (error.request) {\n        toast.error(error.request);\n      } else {\n        toast.error(\"Error\", error.message);\n      }\n      toast.error(\"Error\", error.config);\n      return console.log(error.config);\n    });\n};\n\nfetchPixabayImage.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default fetchPixabayImage;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport SearchBar from \"./components/Searchbar\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport Spinner from \"./components/Loader\";\nimport fetchPixabayImage from \"./services/pixabay-api\";\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImg, setModalImg] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const firstRenderRef = useRef(true);\n\n  const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n  const onChangeQuery = (query) => {\n    if (searchQuery !== query) {\n      setSearchQuery(query);\n      setCurrentPage(1);\n      setImages([]);\n      setError(null);\n    }\n  };\n\n  useEffect(() => {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n    setIsLoading(true);\n\n    async function fetchImage() {\n      try {\n        setIsLoading(true);\n        setSearchQuery(searchQuery);\n        const img = await fetchPixabayImage(searchQuery, currentPage);\n        setImages((prevState) => [...prevState, ...img.data.hits]);\n        setIsLoading(false);\n\n        if (images.length > 0) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      } catch (error) {\n        setError(error.response.status);\n        setIsLoading(false);\n      }\n    }\n    fetchImage();\n  }, [searchQuery, currentPage]);\n\n  const nextPage = () => {\n    setCurrentPage((prevState) => prevState + 1);\n  };\n\n  const toggleModal = () => {\n    setShowModal((showModal) => !showModal);\n  };\n\n  const handleImgClick = (largeImageURL) => {\n    setModalImg(largeImageURL);\n    toggleModal();\n    console.log(largeImageURL);\n  };\n\n  return (\n    <>\n      <SearchBar changeQuery={onChangeQuery} />\n      <ToastContainer position=\"top-right\" autoClose={4000} />\n      {error && (\n        <h1 style={{ color: \"#ff0000\", textAlign: \"center\" }}>\n          Ooops! Something going wrong...{error}\n        </h1>\n      )}\n      <ImageGallery images={images} openModal={handleImgClick} />\n      {isLoading && <Spinner />}\n      {shouldRenderLoadMoreButton && <Button onClick={nextPage} />}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={modalImg} alt=\"\" />\n        </Modal>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}